{
  "version": 3,
  "sources": ["../../../../../../node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js"],
  "sourcesContent": ["import { isRecord, C } from \"./stegaClean.js\";\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n  return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n  if (!Array.isArray(path)) throw new Error(\"Path is not an array\");\n  return path.reduce((target, segment, i) => {\n    const segmentType = typeof segment;\n    if (segmentType === \"number\") return `${target}[${segment}]`;\n    if (segmentType === \"string\") return `${target}${i === 0 ? \"\" : \".\"}${segment}`;\n    if (isKeySegment(segment) && segment._key) return `${target}[_key==\"${segment._key}\"]`;\n    if (Array.isArray(segment)) {\n      const [from, to] = segment;\n      return `${target}[${from}:${to}]`;\n    }\n    throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``);\n  }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n  },\n  UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": `\n`,\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n  };\nfunction jsonPath(path) {\n  return `$${path.map(segment => typeof segment == \"string\" ? `['${segment.replace(/[\\f\\n\\r\\t'\\\\]/g, match => ESCAPE[match])}']` : typeof segment == \"number\" ? `[${segment}]` : segment._key !== \"\" ? `[?(@._key=='${segment._key.replace(/['\\\\]/g, match => ESCAPE[match])}')]` : `[${segment._index}]`).join(\"\")}`;\n}\nfunction parseJsonPath(path) {\n  const parsed = [],\n    parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n  let match;\n  for (; (match = parseRe.exec(path)) !== null;) {\n    if (match[1] !== void 0) {\n      const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, m => UNESCAPE[m]);\n      parsed.push(key);\n      continue;\n    }\n    if (match[2] !== void 0) {\n      parsed.push(parseInt(match[2], 10));\n      continue;\n    }\n    if (match[3] !== void 0) {\n      const _key = match[3].replace(/\\\\(\\\\')/g, m => UNESCAPE[m]);\n      parsed.push({\n        _key,\n        _index: -1\n      });\n      continue;\n    }\n  }\n  return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n  return path.map(segment => {\n    if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n    if (segment._key !== \"\") return {\n      _key: segment._key\n    };\n    if (segment._index !== -1) return segment._index;\n    throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n  });\n}\nfunction jsonPathToMappingPath(path) {\n  return path.map(segment => {\n    if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n    if (segment._index !== -1) return segment._index;\n    throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n  });\n}\nfunction resolveMapping(resultPath, csm) {\n  if (!csm?.mappings) return;\n  const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n  if (csm.mappings[resultMappingPath] !== void 0) return {\n    mapping: csm.mappings[resultMappingPath],\n    matchedPath: resultMappingPath,\n    pathSuffix: \"\"\n  };\n  const mappings = Object.entries(csm.mappings).filter(([key]) => resultMappingPath.startsWith(key)).sort(([key1], [key2]) => key2.length - key1.length);\n  if (mappings.length == 0) return;\n  const [matchedPath, mapping] = mappings[0],\n    pathSuffix = resultMappingPath.substring(matchedPath.length);\n  return {\n    mapping,\n    matchedPath,\n    pathSuffix\n  };\n}\nfunction isArray(value) {\n  return value !== null && Array.isArray(value);\n}\nfunction walkMap(value, mappingFn, path = []) {\n  if (isArray(value)) return value.map((v, idx) => {\n    if (isRecord(v)) {\n      const _key = v._key;\n      if (typeof _key == \"string\") return walkMap(v, mappingFn, path.concat({\n        _key,\n        _index: idx\n      }));\n    }\n    return walkMap(v, mappingFn, path.concat(idx));\n  });\n  if (isRecord(value)) {\n    if (value._type === \"block\" || value._type === \"span\") {\n      const result = {\n        ...value\n      };\n      return value._type === \"block\" ? result.children = walkMap(value.children, mappingFn, path.concat(\"children\")) : value._type === \"span\" && (result.text = walkMap(value.text, mappingFn, path.concat(\"text\"))), result;\n    }\n    return Object.fromEntries(Object.entries(value).map(([k, v]) => [k, walkMap(v, mappingFn, path.concat(k))]));\n  }\n  return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n  return walkMap(result, (value, path) => {\n    if (typeof value != \"string\") return value;\n    const resolveMappingResult = resolveMapping(path, csm);\n    if (!resolveMappingResult) return value;\n    const {\n      mapping,\n      matchedPath\n    } = resolveMappingResult;\n    if (mapping.type !== \"value\" || mapping.source.type !== \"documentValue\") return value;\n    const sourceDocument = csm.documents[mapping.source.document],\n      sourcePath = csm.paths[mapping.source.path],\n      matchPathSegments = parseJsonPath(matchedPath),\n      fullSourceSegments = parseJsonPath(sourcePath).concat(path.slice(matchPathSegments.length));\n    return encoder({\n      sourcePath: fullSourceSegments,\n      sourceDocument,\n      resultPath: path,\n      value\n    });\n  });\n}\nconst DRAFTS_FOLDER = \"drafts\",\n  VERSION_FOLDER = \"versions\",\n  PATH_SEPARATOR = \".\",\n  DRAFTS_PREFIX = `${DRAFTS_FOLDER}${PATH_SEPARATOR}`,\n  VERSION_PREFIX = `${VERSION_FOLDER}${PATH_SEPARATOR}`;\nfunction isDraftId(id) {\n  return id.startsWith(DRAFTS_PREFIX);\n}\nfunction isVersionId(id) {\n  return id.startsWith(VERSION_PREFIX);\n}\nfunction isPublishedId(id) {\n  return !isDraftId(id) && !isVersionId(id);\n}\nfunction getVersionFromId(id) {\n  if (!isVersionId(id)) return;\n  const [_versionPrefix, versionId, ..._publishedId] = id.split(PATH_SEPARATOR);\n  return versionId;\n}\nfunction getPublishedId(id) {\n  return isVersionId(id) ? id.split(PATH_SEPARATOR).slice(2).join(PATH_SEPARATOR) : isDraftId(id) ? id.slice(DRAFTS_PREFIX.length) : id;\n}\nfunction createEditUrl(options) {\n  const {\n    baseUrl,\n    workspace: _workspace = \"default\",\n    tool: _tool = \"default\",\n    id: _id,\n    type,\n    path,\n    projectId,\n    dataset\n  } = options;\n  if (!baseUrl) throw new Error(\"baseUrl is required\");\n  if (!path) throw new Error(\"path is required\");\n  if (!_id) throw new Error(\"id is required\");\n  if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) throw new Error(\"baseUrl must not end with a slash\");\n  const workspace = _workspace === \"default\" ? void 0 : _workspace,\n    tool = _tool === \"default\" ? void 0 : _tool,\n    id = getPublishedId(_id),\n    stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path,\n    searchParams = new URLSearchParams({\n      baseUrl,\n      id,\n      type,\n      path: stringifiedPath\n    });\n  if (workspace && searchParams.set(\"workspace\", workspace), tool && searchParams.set(\"tool\", tool), projectId && searchParams.set(\"projectId\", projectId), dataset && searchParams.set(\"dataset\", dataset), isPublishedId(_id)) searchParams.set(\"perspective\", \"published\");else if (isVersionId(_id)) {\n    const versionId = getVersionFromId(_id);\n    searchParams.set(\"perspective\", versionId);\n  }\n  const segments = [baseUrl === \"/\" ? \"\" : baseUrl];\n  workspace && segments.push(workspace);\n  const routerParams = [\"mode=presentation\", `id=${id}`, `type=${type}`, `path=${encodeURIComponent(stringifiedPath)}`];\n  return tool && routerParams.push(`tool=${tool}`), segments.push(\"intent\", \"edit\", `${routerParams.join(\";\")}?${searchParams}`), segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n  let baseUrl = typeof studioUrl == \"string\" ? studioUrl : studioUrl.baseUrl;\n  return baseUrl !== \"/\" && (baseUrl = baseUrl.replace(/\\/$/, \"\")), typeof studioUrl == \"string\" ? {\n    baseUrl\n  } : {\n    ...studioUrl,\n    baseUrl\n  };\n}\nconst filterDefault = ({\n    sourcePath,\n    resultPath,\n    value\n  }) => {\n    if (isValidDate(value) || isValidURL(value)) return !1;\n    const endPath = sourcePath.at(-1);\n    return !(sourcePath.at(-2) === \"slug\" && endPath === \"current\" || typeof endPath == \"string\" && (endPath.startsWith(\"_\") || endPath.endsWith(\"Id\")) || sourcePath.some(path => path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\") || hasTypeLike(sourcePath) || hasTypeLike(resultPath) || typeof endPath == \"string\" && denylist.has(endPath));\n  },\n  denylist = /* @__PURE__ */new Set([\"color\", \"colour\", \"currency\", \"email\", \"format\", \"gid\", \"hex\", \"href\", \"hsl\", \"hsla\", \"icon\", \"id\", \"index\", \"key\", \"language\", \"layout\", \"link\", \"linkAction\", \"locale\", \"lqip\", \"page\", \"path\", \"ref\", \"rgb\", \"rgba\", \"route\", \"secret\", \"slug\", \"status\", \"tag\", \"template\", \"theme\", \"type\", \"textTheme\", \"unit\", \"url\", \"username\", \"variant\", \"website\"]);\nfunction isValidDate(dateString) {\n  return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? !!Date.parse(dateString) : !1;\n}\nconst allowedProtocols = /* @__PURE__ */new Set([\"app:\", \"data:\", \"discord:\", \"file:\", \"ftp:\", \"ftps:\", \"geo:\", \"http:\", \"https:\", \"imap:\", \"javascript:\", \"magnet:\", \"mailto:\", \"maps:\", \"ms-excel:\", \"ms-powerpoint:\", \"ms-word:\", \"slack:\", \"sms:\", \"spotify:\", \"steam:\", \"teams:\", \"tel:\", \"vscode:\", \"zoom:\"]);\nfunction isValidURL(url) {\n  try {\n    const {\n      protocol\n    } = new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    return allowedProtocols.has(protocol) || protocol.startsWith(\"web+\");\n  } catch {\n    return !1;\n  }\n}\nfunction hasTypeLike(path) {\n  return path.some(segment => typeof segment == \"string\" && segment.match(/type/i) !== null);\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n  const {\n    filter,\n    logger,\n    enabled\n  } = config;\n  if (!enabled) {\n    const msg = \"config.enabled must be true, don't call this function otherwise\";\n    throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n      result,\n      resultSourceMap,\n      config\n    }), new TypeError(msg);\n  }\n  if (!resultSourceMap) return logger?.error?.(\"[@sanity/client]: Missing Content Source Map from response body\", {\n    result,\n    resultSourceMap,\n    config\n  }), result;\n  if (!config.studioUrl) {\n    const msg = \"config.studioUrl must be defined\";\n    throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n      result,\n      resultSourceMap,\n      config\n    }), new TypeError(msg);\n  }\n  const report = {\n      encoded: [],\n      skipped: []\n    },\n    resultWithStega = encodeIntoResult(result, resultSourceMap, ({\n      sourcePath,\n      sourceDocument,\n      resultPath,\n      value\n    }) => {\n      if ((typeof filter == \"function\" ? filter({\n        sourcePath,\n        resultPath,\n        filterDefault,\n        sourceDocument,\n        value\n      }) : filterDefault({\n        sourcePath,\n        resultPath,\n        value\n      })) === !1) return logger && report.skipped.push({\n        path: prettyPathForLogging(sourcePath),\n        value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n        length: value.length\n      }), value;\n      logger && report.encoded.push({\n        path: prettyPathForLogging(sourcePath),\n        value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n        length: value.length\n      });\n      const {\n        baseUrl,\n        workspace,\n        tool\n      } = resolveStudioBaseRoute(typeof config.studioUrl == \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n      if (!baseUrl) return value;\n      const {\n        _id: id,\n        _type: type,\n        _projectId: projectId,\n        _dataset: dataset\n      } = sourceDocument;\n      return C(value, {\n        origin: \"sanity.io\",\n        href: createEditUrl({\n          baseUrl,\n          workspace,\n          tool,\n          id,\n          type,\n          path: sourcePath,\n          ...(!config.omitCrossDatasetReferenceData && {\n            dataset,\n            projectId\n          })\n        })\n      },\n      // We use custom logic to determine if we should skip encoding\n      !1);\n    });\n  if (logger) {\n    const isSkipping = report.skipped.length,\n      isEncoding = report.encoded.length;\n    if ((isSkipping || isEncoding) && ((logger?.groupCollapsed || logger.log)?.(\"[@sanity/client]: Encoding source map into result\"), logger.log?.(`[@sanity/client]: Paths encoded: ${report.encoded.length}, skipped: ${report.skipped.length}`)), report.encoded.length > 0 && (logger?.log?.(\"[@sanity/client]: Table of encoded paths\"), (logger?.table || logger.log)?.(report.encoded)), report.skipped.length > 0) {\n      const skipped = /* @__PURE__ */new Set();\n      for (const {\n        path\n      } of report.skipped) skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n      logger?.log?.(\"[@sanity/client]: List of skipped paths\", [...skipped.values()]);\n    }\n    (isSkipping || isEncoding) && logger?.groupEnd?.();\n  }\n  return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n  return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  stegaEncodeSourceMap\n});\nexport { encodeIntoResult, stegaEncodeSourceMap, stegaEncodeSourceMap$1 };\n"],
  "mappings": "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",
  "names": []
}
